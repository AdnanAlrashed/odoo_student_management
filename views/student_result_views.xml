<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Student Result list View -->
        <record id="view_student_result_list" model="ir.ui.view">
            <field name="name">student_management.student_result.list</field>
            <field name="model">student_management.student_result</field>
            <field name="arch" type="xml">
                <list string="Student Results" default_order="student_id, subject_id">
                    <field name="student_id"/>
                    <field name="subject_id"/>
                    <field name="total_marks"/>
                    <field name="percentage" widget="percentage"/>
                    <field name="grade"/>
                    <field name="status" decoration-success="status == 'pass'" decoration-danger="status == 'fail'"/>
                    <field name="create_date"/>
                </list>
            </field>
        </record>

        <!-- Student Result Form View -->
        <record id="view_student_result_form" model="ir.ui.view">
            <field name="name">student_management.student_result.form</field>
            <field name="model">student_management.student_result</field>
            <field name="arch" type="xml">
                <form string="Student Result">
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="display_name" readonly="1"/>
                            </h1>
                        </div>
                        <group>
                            <group>
                                <field name="student_id" required="1" options="{'no_create': True}"/>
                                <field name="subject_id" required="1" options="{'no_create': True}"/>
                                <field name="total_marks"/>
                            </group>
                            <group>
                                <field name="percentage" readonly="1" widget="percentage"/>
                                <field name="grade" readonly="1"/>
                                <field name="status" readonly="1"/>
                                <field name="create_date" readonly="1"/>
                                <field name="write_date" readonly="1"/>
                            </group>
                        </group>
                        <group>
                            <field name="remarks" placeholder="Additional remarks about the result"/>
                        </group>
                    </sheet>
                    <chatter reload_on_follower="True"/>
                    <!-- <footer>
                        <button name="action_save" type="object" string="Save" class="btn-primary"/>
                        <button name="action_cancel" type="object" string="Cancel" class="btn-secondary"/>
                    </footer> -->
                </form>
            </field>
        </record>

        <!-- Student Result Search View -->
        <record id="view_student_result_search" model="ir.ui.view">
            <field name="name">student_management.student_result.search</field>
            <field name="model">student_management.student_result</field>
            <field name="arch" type="xml">
                <search string="Search Student Results">
                    <field name="student_id" string="Student"/>
                    <field name="subject_id" string="Subject"/>
                    <separator/>
                    <!-- <filter name="pass" string="Pass" domain="[(\'status\', \'=\', \'pass\')]"/>
                    <filter name="fail" string="Fail" domain="[(\'status\', \'=\', \'fail\')]"/> -->
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_student" string="Student" context="{'group_by': 'student_id'}"/>
                        <filter name="group_by_subject" string="Subject" context="{'group_by': 'subject_id'}"/>
                        <filter name="group_by_status" string="Status" context="{'group_by': 'status'}"/>
                        <filter name="group_by_grade" string="Grade" context="{'group_by': 'grade'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- Student Result Action -->
        <record id="action_student_result" model="ir.actions.act_window">
            <field name="name">Student Results</field>
            <field name="res_model">student_management.student_result</field>
            <field name="view_mode">list,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    No student results recorded yet!
                </p>
                <p>
                    Record and manage student academic results for each subject.
                    Results are automatically calculated based on total marks.
                </p>
            </field>
        </record>

    </data>
</odoo>



